var e=Object.defineProperty,t=(t,n,r)=>(((t,n,r)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r})(t,"symbol"!=typeof n?n+"":n,r),r);import{r as n,R as r,b as a,d as s}from"./react-vendor.js";import{w as o}from"./wallet.js";import{W as i}from"./ethers-vendor.js";import{e as c}from"./events.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var l={exports:{}},d={},u=n,m=Symbol.for("react.element"),h=Symbol.for("react.fragment"),p=Object.prototype.hasOwnProperty,f=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y={key:!0,ref:!0,__self:!0,__source:!0};function g(e,t,n){var r,a={},s=null,o=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(o=t.ref),t)p.call(t,r)&&!y.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:m,type:e,key:s,ref:o,props:a,_owner:f.current}}d.Fragment=h,d.jsx=g,d.jsxs=g,l.exports=d;var v=l.exports;var b=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),w="-ms-",N="-moz-",k="-webkit-",S="comm",C="rule",x="decl",P="@keyframes",E=Math.abs,$=String.fromCharCode,A=Object.assign;function _(e){return e.trim()}function I(e,t,n){return e.replace(t,n)}function L(e,t){return e.indexOf(t)}function T(e,t){return 0|e.charCodeAt(t)}function R(e,t,n){return e.slice(t,n)}function F(e){return e.length}function M(e){return e.length}function O(e,t){return t.push(e),e}var W=1,z=1,D=0,G=0,U=0,j="";function B(e,t,n,r,a,s,o){return{value:e,root:t,parent:n,type:r,props:a,children:s,line:W,column:z,length:o,return:""}}function q(e,t){return A(B("",null,null,"",null,null,0),e,{length:-e.length},t)}function Y(){return U=G<D?T(j,G++):0,z++,10===U&&(z=1,W++),U}function H(){return T(j,G)}function K(){return G}function V(e,t){return R(j,e,t)}function Z(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function J(e){return W=z=1,D=F(j=e),G=0,[]}function Q(e){return j="",e}function X(e){return _(V(G-1,ne(91===e?e+2:40===e?e+1:e)))}function ee(e){for(;(U=H())&&U<33;)Y();return Z(e)>2||Z(U)>3?"":" "}function te(e,t){for(;--t&&Y()&&!(U<48||U>102||U>57&&U<65||U>70&&U<97););return V(e,K()+(t<6&&32==H()&&32==Y()))}function ne(e){for(;Y();)switch(U){case e:return G;case 34:case 39:34!==e&&39!==e&&ne(U);break;case 40:41===e&&ne(e);break;case 92:Y()}return G}function re(e,t){for(;Y()&&e+U!==57&&(e+U!==84||47!==H()););return"/*"+V(t,G-1)+"*"+$(47===e?e:Y())}function ae(e){for(;!Z(H());)Y();return V(e,G)}function se(e){return Q(oe("",null,null,null,[""],e=J(e),0,[0],e))}function oe(e,t,n,r,a,s,o,i,c){for(var l=0,d=0,u=o,m=0,h=0,p=0,f=1,y=1,g=1,v=0,b="",w=a,N=s,k=r,S=b;y;)switch(p=v,v=Y()){case 40:if(108!=p&&58==T(S,u-1)){-1!=L(S+=I(X(v),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:S+=X(v);break;case 9:case 10:case 13:case 32:S+=ee(p);break;case 92:S+=te(K()-1,7);continue;case 47:switch(H()){case 42:case 47:O(ce(re(Y(),K()),t,n),c);break;default:S+="/"}break;case 123*f:i[l++]=F(S)*g;case 125*f:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+d:-1==g&&(S=I(S,/\f/g,"")),h>0&&F(S)-u&&O(h>32?le(S+";",r,n,u-1):le(I(S," ","")+";",r,n,u-2),c);break;case 59:S+=";";default:if(O(k=ie(S,t,n,l,d,a,i,b,w=[],N=[],u),s),123===v)if(0===d)oe(S,t,k,k,w,s,u,i,N);else switch(99===m&&110===T(S,3)?100:m){case 100:case 108:case 109:case 115:oe(e,k,k,r&&O(ie(e,k,k,0,0,a,i,b,a,w=[],u),N),a,N,u,i,r?w:N);break;default:oe(S,k,k,k,[""],N,0,i,N)}}l=d=h=0,f=g=1,b=S="",u=o;break;case 58:u=1+F(S),h=p;default:if(f<1)if(123==v)--f;else if(125==v&&0==f++&&125==(U=G>0?T(j,--G):0,z--,10===U&&(z=1,W--),U))continue;switch(S+=$(v),v*f){case 38:g=d>0?1:(S+="\f",-1);break;case 44:i[l++]=(F(S)-1)*g,g=1;break;case 64:45===H()&&(S+=X(Y())),m=H(),d=u=F(b=S+=ae(K())),v++;break;case 45:45===p&&2==F(S)&&(f=0)}}return s}function ie(e,t,n,r,a,s,o,i,c,l,d){for(var u=a-1,m=0===a?s:[""],h=M(m),p=0,f=0,y=0;p<r;++p)for(var g=0,v=R(e,u+1,u=E(f=o[p])),b=e;g<h;++g)(b=_(f>0?m[g]+" "+v:I(v,/&\f/g,m[g])))&&(c[y++]=b);return B(e,t,n,0===a?C:i,c,l,d)}function ce(e,t,n){return B(e,t,n,S,$(U),R(e,2,-2),0)}function le(e,t,n,r){return B(e,t,n,x,R(e,0,r),R(e,r+1,-1),r)}function de(e,t){for(var n="",r=M(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function ue(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case x:return e.return=e.return||e.value;case S:return"";case P:return e.return=e.value+"{"+de(e.children,r)+"}";case C:e.value=e.props.join(",")}return F(n=de(e.children,r))?e.return=e.value+"{"+n+"}":""}function me(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var he=function(e,t,n){for(var r=0,a=0;r=a,a=H(),38===r&&12===a&&(t[n]=1),!Z(a);)Y();return V(e,G)},pe=function(e,t){return Q(function(e,t){var n=-1,r=44;do{switch(Z(r)){case 0:38===r&&12===H()&&(t[n]=1),e[n]+=he(G-1,t,n);break;case 2:e[n]+=X(r);break;case 4:if(44===r){e[++n]=58===H()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=$(r)}}while(r=Y());return e}(J(e),t))},fe=new WeakMap,ye=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||fe.get(n))&&!r){fe.set(e,!0);for(var a=[],s=pe(t,a),o=n.props,i=0,c=0;i<s.length;i++)for(var l=0;l<o.length;l++,c++)e.props[c]=a[i]?s[i].replace(/&\f/g,o[l]):o[l]+" "+s[i]}}},ge=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ve(e,t){switch(function(e,t){return 45^T(e,0)?(((t<<2^T(e,0))<<2^T(e,1))<<2^T(e,2))<<2^T(e,3):0}(e,t)){case 5103:return k+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return k+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return k+e+N+e+w+e+e;case 6828:case 4268:return k+e+w+e+e;case 6165:return k+e+w+"flex-"+e+e;case 5187:return k+e+I(e,/(\w+).+(:[^]+)/,k+"box-$1$2"+w+"flex-$1$2")+e;case 5443:return k+e+w+"flex-item-"+I(e,/flex-|-self/,"")+e;case 4675:return k+e+w+"flex-line-pack"+I(e,/align-content|flex-|-self/,"")+e;case 5548:return k+e+w+I(e,"shrink","negative")+e;case 5292:return k+e+w+I(e,"basis","preferred-size")+e;case 6060:return k+"box-"+I(e,"-grow","")+k+e+w+I(e,"grow","positive")+e;case 4554:return k+I(e,/([^-])(transform)/g,"$1"+k+"$2")+e;case 6187:return I(I(I(e,/(zoom-|grab)/,k+"$1"),/(image-set)/,k+"$1"),e,"")+e;case 5495:case 3959:return I(e,/(image-set\([^]*)/,k+"$1$`$1");case 4968:return I(I(e,/(.+:)(flex-)?(.*)/,k+"box-pack:$3"+w+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+k+e+e;case 4095:case 3583:case 4068:case 2532:return I(e,/(.+)-inline(.+)/,k+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(F(e)-1-t>6)switch(T(e,t+1)){case 109:if(45!==T(e,t+4))break;case 102:return I(e,/(.+:)(.+)-([^]+)/,"$1"+k+"$2-$3$1"+N+(108==T(e,t+3)?"$3":"$2-$3"))+e;case 115:return~L(e,"stretch")?ve(I(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==T(e,t+1))break;case 6444:switch(T(e,F(e)-3-(~L(e,"!important")&&10))){case 107:return I(e,":",":"+k)+e;case 101:return I(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+k+(45===T(e,14)?"inline-":"")+"box$3$1"+k+"$2$3$1"+w+"$2box$3")+e}break;case 5936:switch(T(e,t+11)){case 114:return k+e+w+I(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return k+e+w+I(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return k+e+w+I(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return k+e+w+e+e}return e}var be=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case x:e.return=ve(e.value,e.length);break;case P:return de([q(e,{value:I(e.value,"@","@"+k)})],r);case C:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return de([q(e,{props:[I(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return de([q(e,{props:[I(t,/:(plac\w+)/,":"+k+"input-$1")]}),q(e,{props:[I(t,/:(plac\w+)/,":-moz-$1")]}),q(e,{props:[I(t,/:(plac\w+)/,w+"input-$1")]})],r)}return""}))}}],we=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,a,s=e.stylisPlugins||be,o={},i=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;i.push(e)}));var c,l,d,u,m=[ue,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=(l=[ye,ge].concat(s,m),d=M(l),function(e,t,n,r){for(var a="",s=0;s<d;s++)a+=l[s](e,t,n,r)||"";return a});a=function(e,t,n,r){c=n,de(se(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new b({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return p.sheet.hydrate(i),p},Ne={exports:{}},ke={},Se="function"==typeof Symbol&&Symbol.for,Ce=Se?Symbol.for("react.element"):60103,xe=Se?Symbol.for("react.portal"):60106,Pe=Se?Symbol.for("react.fragment"):60107,Ee=Se?Symbol.for("react.strict_mode"):60108,$e=Se?Symbol.for("react.profiler"):60114,Ae=Se?Symbol.for("react.provider"):60109,_e=Se?Symbol.for("react.context"):60110,Ie=Se?Symbol.for("react.async_mode"):60111,Le=Se?Symbol.for("react.concurrent_mode"):60111,Te=Se?Symbol.for("react.forward_ref"):60112,Re=Se?Symbol.for("react.suspense"):60113,Fe=Se?Symbol.for("react.suspense_list"):60120,Me=Se?Symbol.for("react.memo"):60115,Oe=Se?Symbol.for("react.lazy"):60116,We=Se?Symbol.for("react.block"):60121,ze=Se?Symbol.for("react.fundamental"):60117,De=Se?Symbol.for("react.responder"):60118,Ge=Se?Symbol.for("react.scope"):60119;function Ue(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Ce:switch(e=e.type){case Ie:case Le:case Pe:case $e:case Ee:case Re:return e;default:switch(e=e&&e.$$typeof){case _e:case Te:case Oe:case Me:case Ae:return e;default:return t}}case xe:return t}}}function je(e){return Ue(e)===Le}ke.AsyncMode=Ie,ke.ConcurrentMode=Le,ke.ContextConsumer=_e,ke.ContextProvider=Ae,ke.Element=Ce,ke.ForwardRef=Te,ke.Fragment=Pe,ke.Lazy=Oe,ke.Memo=Me,ke.Portal=xe,ke.Profiler=$e,ke.StrictMode=Ee,ke.Suspense=Re,ke.isAsyncMode=function(e){return je(e)||Ue(e)===Ie},ke.isConcurrentMode=je,ke.isContextConsumer=function(e){return Ue(e)===_e},ke.isContextProvider=function(e){return Ue(e)===Ae},ke.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Ce},ke.isForwardRef=function(e){return Ue(e)===Te},ke.isFragment=function(e){return Ue(e)===Pe},ke.isLazy=function(e){return Ue(e)===Oe},ke.isMemo=function(e){return Ue(e)===Me},ke.isPortal=function(e){return Ue(e)===xe},ke.isProfiler=function(e){return Ue(e)===$e},ke.isStrictMode=function(e){return Ue(e)===Ee},ke.isSuspense=function(e){return Ue(e)===Re},ke.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Pe||e===Le||e===$e||e===Ee||e===Re||e===Fe||"object"==typeof e&&null!==e&&(e.$$typeof===Oe||e.$$typeof===Me||e.$$typeof===Ae||e.$$typeof===_e||e.$$typeof===Te||e.$$typeof===ze||e.$$typeof===De||e.$$typeof===Ge||e.$$typeof===We)},ke.typeOf=Ue,Ne.exports=ke;var Be=Ne.exports,qe={};qe[Be.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qe[Be.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var Ye=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};var He={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ke=/[A-Z]|^ms/g,Ve=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ze=function(e){return 45===e.charCodeAt(1)},Je=function(e){return null!=e&&"boolean"!=typeof e},Qe=me((function(e){return Ze(e)?e:e.replace(Ke,"-$&").toLowerCase()})),Xe=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Ve,(function(e,t,n){return tt={name:t,styles:n,next:tt},t}))}return 1===He[e]||Ze(e)||"number"!=typeof t||0===t?t:t+"px"};function et(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var a=n;if(1===a.anim)return tt={name:a.name,styles:a.styles,next:tt},a.name;var s=n;if(void 0!==s.styles){var o=s.next;if(void 0!==o)for(;void 0!==o;)tt={name:o.name,styles:o.styles,next:tt},o=o.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=et(e,t,n[a])+";";else for(var s in n){var o=n[s];if("object"!=typeof o){var i=o;null!=t&&void 0!==t[i]?r+=s+"{"+t[i]+"}":Je(i)&&(r+=Qe(s)+":"+Xe(s,i)+";")}else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=t&&void 0!==t[o[0]]){var c=et(e,t,o);switch(s){case"animation":case"animationName":r+=Qe(s)+":"+c+";";break;default:r+=s+"{"+c+"}"}}else for(var l=0;l<o.length;l++)Je(o[l])&&(r+=Qe(s)+":"+Xe(s,o[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=tt,c=n(e);return tt=i,et(e,t,c)}}var l=n;if(null==t)return l;var d=t[l];return void 0!==d?d:l}var tt,nt=/label:\s*([^\s;{]+)\s*(;|$)/g;var rt=!!r.useInsertionEffect&&r.useInsertionEffect||function(e){return e()},at=n.createContext("undefined"!=typeof HTMLElement?we({key:"css"}):null);at.Provider;var st,ot=function(e){return n.forwardRef((function(t,r){var a=n.useContext(at);return e(t,a,r)}))},it=n.createContext({}),ct={}.hasOwnProperty,lt="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",dt=function(e,t){var n={};for(var r in t)ct.call(t,r)&&(n[r]=t[r]);return n[lt]=e,n},ut=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Ye(t,n,r),rt((function(){return function(e,t,n){Ye(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}(t,n,r)})),null},mt=ot((function(e,t,r){var a=e.css;"string"==typeof a&&void 0!==t.registered[a]&&(a=t.registered[a]);var s=e[lt],o=[a],i="";"string"==typeof e.className?i=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}(t.registered,o,e.className):null!=e.className&&(i=e.className+" ");var c=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";tt=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,a+=et(n,t,s)):a+=s[0];for(var o=1;o<e.length;o++)a+=et(n,t,e[o]),r&&(a+=s[o]);nt.lastIndex=0;for(var i,c="";null!==(i=nt.exec(a));)c+="-"+i[1];return{name:function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(a)+c,styles:a,next:tt}}(o,void 0,n.useContext(it));i+=t.key+"-"+c.name;var l={};for(var d in e)ct.call(e,d)&&"css"!==d&&d!==lt&&(l[d]=e[d]);return l.className=i,r&&(l.ref=r),n.createElement(n.Fragment,null,n.createElement(ut,{cache:t,serialized:c,isStringTag:"string"==typeof s}),n.createElement(s,l))})),ht=v.Fragment,pt=function(e,t,n){return ct.call(t,"css")?v.jsx(mt,dt(e,t),n):v.jsx(e,t,n)},ft=function(e,t,n){return ct.call(t,"css")?v.jsxs(mt,dt(e,t),n):v.jsxs(e,t,n)},yt=a;st=yt.createRoot,yt.hydrateRoot;const gt=({onGetStarted:e,onRestore:t})=>ft("div",{className:"welcome-screen",children:[ft("div",{className:"welcome-content",children:[ft("div",{className:"welcome-hero",children:[pt("div",{className:"wallet-icon large",role:"img","aria-label":"Wallet icon"}),ft("h1",{children:["Welcome to ",pt("span",{className:"brand-name",children:"FreoWallet"})]}),pt("p",{className:"subtitle",children:"Your Web3 MasterKey"})]}),ft("div",{className:"features-list",children:[ft("div",{className:"feature-item",children:[pt("span",{className:"feature-icon",children:"ðŸ›¡ï¸"}),ft("div",{className:"feature-text",children:[pt("h3",{children:"Secured"}),pt("p",{children:"Military-grade encryption for your digital assets"})]})]}),ft("div",{className:"feature-item",children:[pt("span",{className:"feature-icon",children:"âš¡"}),ft("div",{className:"feature-text",children:[pt("h3",{children:"Seamless"}),pt("p",{children:"Effortless transactions and dApp interactions"})]})]}),ft("div",{className:"feature-item",children:[pt("span",{className:"feature-icon",children:"ðŸ’Ž"}),ft("div",{className:"feature-text",children:[pt("h3",{children:"Rich"}),pt("p",{children:"Premium features for the modern Web3 explorer"})]})]})]})]}),ft("div",{className:"welcome-footer",children:[pt("button",{type:"button",className:"connect-button",onClick:e,"aria-label":"Get started with FreoBus Wallet",children:"Get Started"}),pt("button",{type:"button",className:"secondary-button",onClick:t,"aria-label":"Restore existing wallet",style:{marginTop:12},children:"Restore Wallet"}),ft("p",{className:"terms-notice",children:["By continuing, you agree to our ",pt("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})]})]})]}),vt=({mnemonic:e,onConfirm:t})=>{const[r,a]=n.useState(!1),[s,o]=n.useState(!1);return pt("div",{className:"modal-overlay",children:ft("div",{className:"modal-content",children:[pt("h2",{children:"Your Seed Phrase"}),pt("div",{className:"seed-phrase-box",tabIndex:0,"aria-label":"Seed phrase",style:{userSelect:"none",fontWeight:600,fontSize:18,letterSpacing:1},children:e}),ft("div",{className:"seed-actions",style:{margin:"12px 0"},children:[pt("button",{onClick:()=>{navigator.clipboard.writeText(e),a(!0),setTimeout((()=>a(!1)),2e3)},children:"Copy"}),pt("button",{onClick:()=>{const t=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="freowallet-seed.txt",r.click(),URL.revokeObjectURL(n)},children:"Download"}),r&&pt("span",{className:"copy-status",style:{color:"green",marginLeft:8},children:"Copied!"})]}),ft("div",{className:"backup-confirm",style:{margin:"12px 0"},children:[pt("input",{type:"checkbox",id:"confirm-backup",checked:s,onChange:e=>o(e.target.checked)}),pt("label",{htmlFor:"confirm-backup",style:{marginLeft:8},children:"I understand that losing my seed phrase means losing access to my funds."})]}),pt("button",{className:"connect-button",onClick:t,disabled:!s,children:"Continue"})]})})},bt=({isCreating:e,error:t,onCreateWallet:r})=>{const[a,s]=n.useState(""),[o,c]=n.useState(""),[l,d]=n.useState(null),[u,m]=n.useState("password"),[h,p]=n.useState(""),[f,y]=n.useState(!1);return"password"===u?pt("div",{className:"popup-content",children:ft("form",{onSubmit:async e=>{if(e.preventDefault(),d(null),!a||!o)return void d("Please enter both password fields");if(a.length<8)return void d("Password must be at least 8 characters long");if(a!==o)return void d("Passwords do not match");const t=i.createRandom();p(t.mnemonic.phrase),m("show"),y(!0)},children:[(t||l)&&pt("div",{className:"error-message",role:"alert",children:t||l}),ft("div",{className:"form-group",children:[pt("label",{htmlFor:"password",children:"Create Password"}),pt("input",{type:"password",id:"password",value:a,onChange:e=>s(e.target.value),placeholder:"Create a strong password (min. 8 characters)",disabled:e,required:!0,minLength:8}),pt("small",{className:"input-help",children:"This password will be used to protect your wallet"})]}),ft("div",{className:"form-group",children:[pt("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),pt("input",{type:"password",id:"confirmPassword",value:o,onChange:e=>c(e.target.value),placeholder:"Enter the same password again",disabled:e,required:!0,minLength:8})]}),pt("button",{className:"connect-button "+(e?"loading":""),type:"submit",disabled:e,"aria-busy":e,children:e?"Creating Wallet...":"Create New Wallet"})]})}):f&&h?pt(vt,{mnemonic:h,onConfirm:async()=>{y(!1),await r(a,h)}}):null},wt=({privateKey:e,onClose:t})=>{const[r,a]=n.useState(!1),[s,o]=n.useState(!1);return pt("div",{className:"modal-overlay",children:ft("div",{className:"modal-content",children:[pt("h3",{children:"Export Private Key"}),ft("div",{className:"warning-box",style:{color:"red",marginBottom:12},children:[pt("strong",{children:"Warning:"})," Never share your private key. Anyone with this key can access your funds."]}),ft("div",{className:"private-key-box",style:{marginBottom:12},children:[pt("input",{type:r?"text":"password",value:e,readOnly:!0,style:{width:"100%",fontSize:16,letterSpacing:1},"aria-label":"Private key"}),pt("button",{onClick:()=>a((e=>!e)),style:{marginLeft:8},children:r?"Hide":"Show"})]}),pt("button",{onClick:()=>{navigator.clipboard.writeText(e),o(!0),setTimeout((()=>o(!1)),2e3)},children:"Copy"}),s&&pt("span",{className:"copy-status",style:{color:"green",marginLeft:8},children:"Copied!"}),pt("button",{className:"secondary-button",onClick:t,style:{marginLeft:12},children:"Close"})]})})},Nt={info:{background:"#e3f2fd",color:"#1565c0",icon:"â„¹ï¸"},warning:{background:"#fff3cd",color:"#856404",icon:"âš ï¸"},danger:{background:"#f8d7da",color:"#721c24",icon:"â›”"}},kt=({type:e="warning",icon:t,message:n,actions:r,dismissible:a=!1,onDismiss:s})=>{const o=Nt[e];return ft("div",{className:"warning-banner",style:{background:o.background,color:o.color,padding:"12px 16px",borderRadius:8,display:"flex",alignItems:"center",marginBottom:12,fontWeight:500,fontSize:15,boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},role:"alert",children:[pt("span",{style:{fontSize:22,marginRight:12},children:t||o.icon}),pt("span",{style:{flex:1},children:n}),r&&pt("span",{style:{marginLeft:16},children:r}),a&&pt("button",{onClick:s,style:{marginLeft:16,background:"none",border:"none",color:o.color,fontSize:18,cursor:"pointer"},"aria-label":"Dismiss warning",children:"Ã—"})]})},St=({selectedAccount:e,selectedNetwork:t,networks:r,mevProtection:a,error:s,onSwitchNetwork:o,isLegacy:i,onMigrateLegacy:c,onExportLegacy:l})=>{const[d,u]=n.useState("tokens"),[m,h]=n.useState(!1),[p,f]=n.useState(!1),[y,g]=n.useState(!1),[v,b]=n.useState(""),[w,N]=n.useState(!1),[k,S]=n.useState(""),[C,x]=n.useState(""),[P,E]=n.useState("idle"),[$,A]=n.useState(""),[_,I]=n.useState(""),[L,T]=n.useState(null),[R,F]=n.useState((()=>"true"===localStorage.getItem("freo_has_backed_up_seed"))),[M,O]=n.useState(!1);n.useEffect((()=>{const e=localStorage.getItem("freo_connected_site");e&&(g(!0),b(e))}),[]);const W=e=>parseFloat(e||"0").toFixed(4);return ft("div",{className:"wallet-content",children:[ft("div",{className:"wallet-header",children:[pt("img",{src:"/logo.png",alt:"FreoWallet",className:"logo",style:{height:32,marginRight:12}}),y?ft("div",{className:"connected-status",style:{display:"flex",alignItems:"center",gap:8},children:[pt("span",{className:"dot green",style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:"#27ae60",marginRight:4}}),"Connected: ",v,pt("button",{className:"disconnect-btn",onClick:()=>{g(!1),b(""),localStorage.removeItem("freo_connected_site")},style:{marginLeft:8,background:"#eb5757",color:"#fff",border:"none",borderRadius:12,padding:"4px 12px",fontWeight:"bold",cursor:"pointer"},children:"Disconnect"})]}):ft("button",{className:"connect-btn",onClick:async()=>{const e=window.location.hostname||"Current dApp";g(!0),b(e),localStorage.setItem("freo_connected_site",e)},style:{background:"#2d9cdb",color:"#fff",border:"none",borderRadius:20,padding:"8px 20px",fontWeight:"bold",cursor:"pointer"},children:[pt("span",{role:"img","aria-label":"link",children:"ðŸ”—"})," Connect Wallet"]})]}),s&&pt("div",{className:"error-message",children:s}),ft("div",{className:"wallet-header",children:[ft("div",{className:"header-top",children:[ft("div",{className:"network-selector",onClick:()=>h(!m),children:[pt("div",{className:"network-indicator"}),pt("span",{children:(null==t?void 0:t.name)||"Select Network"}),pt("span",{className:"chevron-down",children:"â–¼"}),m&&pt("div",{className:"network-dropdown",children:r.map((e=>ft("div",{className:"network-option "+(e.chainId===(null==t?void 0:t.chainId)?"active":""),onClick:()=>o(e.chainId),children:[pt("div",{className:"network-option-indicator"}),pt("span",{children:e.name})]},e.chainId)))})]}),ft("button",{className:"menu-button",onClick:()=>f(!p),children:["â‹®",p&&ft("div",{className:"menu-dropdown",children:[ft("button",{className:"menu-item",children:[pt("span",{className:"menu-icon",children:"ðŸ””"}),"Notifications"]}),ft("button",{className:"menu-item",children:[pt("span",{className:"menu-icon",children:"ðŸ‘¤"}),"Account details"]}),ft("button",{className:"menu-item",children:[pt("span",{className:"menu-icon",children:"ðŸ”"}),"View on explorer"]}),ft("button",{className:"menu-item",children:[pt("span",{className:"menu-icon",children:"âš™ï¸"}),"Settings"]}),ft("button",{className:"menu-item",children:[pt("span",{className:"menu-icon",children:"ðŸ”’"}),"Lock FreoWallet"]}),ft("button",{className:"menu-item",onClick:()=>O(!0),children:[pt("span",{className:"menu-icon",children:"ðŸ”‘"}),"Export Private Key"]})]})]})]}),ft("div",{className:"account-info",children:[pt("span",{className:"account-name",children:null==e?void 0:e.name}),pt("span",{className:"account-address",style:{cursor:"pointer",userSelect:"all"},onClick:()=>{(null==e?void 0:e.address)&&(navigator.clipboard.writeText(e.address),I("Copied!"),setTimeout((()=>I("")),1500))},title:"Click to copy",children:(null==e?void 0:e.address)?(z=e.address,`${z.slice(0,6)}...${z.slice(-4)}`):""}),_&&pt("span",{className:"copy-status",style:{marginLeft:8,color:"green",fontWeight:500},children:_})]})]}),ft("div",{className:"balance-display",children:[pt("h2",{className:"balance-amount",children:(null==e?void 0:e.balances[(null==t?void 0:t.chainId)||""])?`${W(e.balances[(null==t?void 0:t.chainId)||""])} ${null==t?void 0:t.currencySymbol}`:"0.0000 ETH"}),pt("p",{className:"balance-fiat",children:"$0.00 USD"})]}),ft("div",{className:"action-buttons",children:[ft("button",{className:"action-button",children:[pt("span",{className:"action-icon",children:"â†“"}),pt("span",{children:"Buy"})]}),ft("button",{className:"action-button",onClick:()=>N(!0),children:[pt("span",{className:"action-icon",children:"â†‘"}),pt("span",{children:"Send"})]}),ft("button",{className:"action-button",children:[pt("span",{className:"action-icon",children:"â†”"}),pt("span",{children:"Swap"})]}),ft("button",{className:"action-button",children:[pt("span",{className:"action-icon",children:"â‹®"}),pt("span",{children:"More"})]})]}),ft("div",{className:"tabs",children:[pt("button",{className:"tab "+("tokens"===d?"active":""),onClick:()=>u("tokens"),children:"Tokens"}),pt("button",{className:"tab "+("nfts"===d?"active":""),onClick:()=>u("nfts"),children:"NFTs"}),pt("button",{className:"tab "+("activity"===d?"active":""),onClick:()=>u("activity"),children:"Activity"}),pt("button",{className:"tab "+("analytics"===d?"active":""),onClick:()=>u("analytics"),children:"Analytics"}),pt("button",{className:"tab "+("mev"===d?"active":""),onClick:()=>u("mev"),children:"MEV Protection"})]}),ft("div",{className:"tab-content",children:["tokens"===d&&ft("div",{className:"token-list",children:[ft("div",{className:"token-item main-token",children:[pt("div",{className:"token-icon eth"}),ft("div",{className:"token-info",children:[pt("span",{className:"token-name",children:"Ethereum"}),ft("span",{className:"token-balance",children:[(null==e?void 0:e.balances[(null==t?void 0:t.chainId)||""])?W(e.balances[(null==t?void 0:t.chainId)||""]):"0.0000"," ETH"]})]}),pt("div",{className:"token-value",children:"$0.00 USD"})]}),ft("div",{className:"empty-state",children:[pt("div",{className:"empty-icon",children:"ðŸ”"}),pt("h3",{children:"No tokens found"}),pt("p",{children:"Get started by adding some tokens to your wallet"}),pt("button",{className:"secondary-button",children:"Import Tokens"})]})]}),"nfts"===d&&ft("div",{className:"empty-state",children:[pt("div",{className:"empty-icon",children:"ðŸ–¼ï¸"}),pt("h3",{children:"No NFTs found"}),pt("p",{children:"NFTs you receive will appear here"})]}),"activity"===d&&ft("div",{className:"empty-state",children:[pt("div",{className:"empty-icon",children:"ðŸ“"}),pt("h3",{children:"No activity yet"}),pt("p",{children:"Your transaction history will appear here"})]}),"analytics"===d&&pt("div",{style:{padding:"10px"},children:pt("p",{children:"Analytics dashboard coming soon."})}),"mev"===d&&ft("div",{style:{padding:"10px"},children:[pt("h3",{children:"MEV Protection Settings"}),a?ft("ul",{children:[ft("li",{children:[pt("b",{children:"Max Slippage:"})," ",a.maxSlippage,"%"]}),ft("li",{children:[pt("b",{children:"Use Private Pools:"})," ",a.usePrivatePools?"Yes":"No"]}),ft("li",{children:[pt("b",{children:"Flashbot Protection:"})," ",a.flashbotProtection?"Enabled":"Disabled"]})]}):pt("p",{children:"No MEV protection settings available for this network."})]})]}),w&&pt("div",{className:"modal-overlay",children:ft("div",{className:"modal",children:[pt("h2",{children:"Send ETH"}),ft("form",{onSubmit:async e=>{e.preventDefault(),E("pending"),A("");try{if(!k||!C)throw new Error("Recipient and amount required");E("success"),S(""),x(""),setTimeout((()=>N(!1)),1500)}catch(t){E("error"),A(t.message||"Failed to send transaction")}},children:[pt("label",{children:"Recipient Address"}),pt("input",{type:"text",value:k,onChange:e=>S(e.target.value),required:!0}),pt("label",{children:"Amount (ETH)"}),pt("input",{type:"number",value:C,onChange:e=>x(e.target.value),required:!0,min:"0",step:"any"}),pt("button",{type:"submit",disabled:"pending"===P,children:"Send"}),pt("button",{type:"button",onClick:()=>N(!1),children:"Cancel"})]}),"pending"===P&&pt("p",{children:"Sending..."}),"success"===P&&pt("p",{children:"Transaction sent!"}),"error"===P&&pt("p",{className:"error-message",children:$})]})}),M&&L&&pt(wt,{privateKey:L,onClose:()=>{O(!1),T(null)}}),!R&&pt(kt,{type:"warning",icon:"âš ï¸",message:ft(ht,{children:[pt("strong",{children:"Backup Required:"})," If you remove or reset this extension without backing up your seed phrase, you will lose access to your funds forever."]}),actions:pt("button",{className:"secondary-button",onClick:()=>{localStorage.setItem("freo_has_backed_up_seed","true"),F(!0)},children:"Mark as Backed Up"})}),i&&pt(kt,{type:"danger",icon:"â›”",message:ft(ht,{children:[pt("strong",{children:"Legacy Wallet:"})," Your wallet is not recoverable if you remove or reset this extension. Please migrate or export your private key now."]}),actions:ft(ht,{children:[pt("button",{className:"link-button",onClick:c,children:"Migrate"}),pt("button",{className:"link-button",onClick:l,style:{marginLeft:8},children:"Export Private Key"})]})})]});var z};class Ct extends Error{constructor(e,t,n){super(t),this.code=e,this.details=n,this.name="WalletError"}}const xt=class e extends c.EventEmitter{constructor(n=new Map){super(),t(this,"chainConfigs"),t(this,"networkStates"),t(this,"debounceTimeout",null),this.chainConfigs=new Map(e.DEFAULT_CHAIN_CONFIGS),n.forEach(((e,t)=>{this.chainConfigs.set(t,e)})),this.networkStates=new Map}async switchNetwork(t){this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout((async()=>{try{const e=this.chainConfigs.get(t);if(!e)throw new Ct("UNSUPPORTED_CHAIN",`Unsupported chain ID: ${t}`);const n=await this.initializeNetworkState(t);this.networkStates.set(t,n),this.emit("networkSwitched",{chainId:t,state:n,config:e})}catch(e){throw this.emit("networkSwitchError",{chainId:t,error:e}),e}}),e.DEBOUNCE_DELAY)}async validateTransaction(e,t){var n,r;const a=this.chainConfigs.get(e);if(!a)return["Unsupported chain ID"];const s=[],o=a.validationRules;return t.gasLimit&&Number(t.gasLimit)<o.minGasLimit&&s.push(`Gas limit below minimum required (${o.minGasLimit})`),t.gasLimit&&Number(t.gasLimit)>o.maxGasLimit&&s.push(`Gas limit exceeds maximum allowed (${o.maxGasLimit})`),a.mevProtection&&a.mevProtection.usePrivatePools&&!(null==(n=t.data)?void 0:n.includes("0x"))&&s.push("Transaction must use private pools for MEV protection"),(null==(r=a.gasOptimization)?void 0:r.useEIP1559)&&(t.maxFeePerGas&&t.maxPriorityFeePerGas||s.push("EIP-1559 transaction must include maxFeePerGas and maxPriorityFeePerGas")),s}async getNetworkState(e){return this.networkStates.get(e)||null}async updateNetworkState(e,t){const n=this.networkStates.get(e);if(!n)throw new Ct("INVALID_CHAIN",`No state found for chain ID: ${e}`);const r={...n,...t};this.networkStates.set(e,r),this.emit("networkStateUpdated",{chainId:e,state:r})}async initializeNetworkState(e){const t=this.chainConfigs.get(e);if(!t)throw new Ct("INVALID_CHAIN",`Invalid chain ID: ${e}`);return{chainId:e,isConnected:!0,lastBlockNumber:0,gasPrice:0,validationErrors:[],mevProtection:t.mevProtection,gasOptimization:t.gasOptimization,rpcOptimization:t.rpcOptimization}}cleanup(){this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.networkStates.clear()}};t(xt,"DEBOUNCE_DELAY",500),t(xt,"DEFAULT_CHAIN_CONFIGS",new Map([["0x1",{chainId:"0x1",name:"Ethereum Mainnet",rpcUrls:["https://mainnet.infura.io/v3/"],blockExplorerUrl:"https://etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},validationRules:{maxGasPrice:1e3,minGasLimit:21e3,maxGasLimit:8e6,supportedTransactionTypes:["legacy","eip1559"],requiredConfirmations:12},mevProtection:{maxSlippage:.5,usePrivatePools:!0,flashbotProtection:!0},gasOptimization:{useEIP1559:!0,maxPriorityFee:2,baseFeeMultiplier:1.2},rpcOptimization:{useMultipleProviders:!0,failoverStrategy:"latency-based",healthCheckInterval:3e4}}]]));let Pt=xt;const Et=({isRestoring:e,error:t,onRestoreWallet:r})=>{const[a,s]=n.useState(""),[o,i]=n.useState(""),[c,l]=n.useState(""),[d,u]=n.useState(null);return pt("div",{className:"popup-content",children:ft("form",{onSubmit:async e=>{if(e.preventDefault(),u(null),!c.trim())return void u("Please enter your seed phrase");if(!a||!o)return void u("Please enter both password fields");if(a.length<8)return void u("Password must be at least 8 characters long");if(a!==o)return void u("Passwords do not match");const t=c.trim().split(/\s+/);12===t.length||24===t.length?await r(a,c.trim()):u("Seed phrase must be 12 or 24 words")},children:[(t||d)&&pt("div",{className:"error-message",role:"alert",children:t||d}),ft("div",{className:"form-group",children:[pt("label",{htmlFor:"mnemonic",children:"Seed Phrase"}),pt("textarea",{id:"mnemonic",value:c,onChange:e=>l(e.target.value),placeholder:"Enter your 12 or 24 word seed phrase",rows:3,disabled:e,required:!0})]}),ft("div",{className:"form-group",children:[pt("label",{htmlFor:"password",children:"New Password"}),pt("input",{type:"password",id:"password",value:a,onChange:e=>s(e.target.value),placeholder:"Create a strong password (min. 8 characters)",disabled:e,required:!0,minLength:8}),pt("small",{className:"input-help",children:"This password will be used to protect your wallet"})]}),ft("div",{className:"form-group",children:[pt("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),pt("input",{type:"password",id:"confirmPassword",value:o,onChange:e=>i(e.target.value),placeholder:"Enter the same password again",disabled:e,required:!0,minLength:8})]}),pt("button",{className:"connect-button "+(e?"loading":""),type:"submit",disabled:e,"aria-busy":e,children:e?"Restoring Wallet...":"Restore Wallet"})]})})},$t=({legacyAccount:e,onComplete:t,onCancel:r,walletService:a})=>{const[s,o]=n.useState(1),[c,l]=n.useState(null),[d,u]=n.useState(!1);return pt("div",{className:"modal-overlay",children:ft("div",{className:"modal-content",children:[1===s&&ft(ht,{children:[pt("h2",{children:"Legacy Wallet Migration"}),pt("p",{children:"Your wallet was created before seed phrase support. To secure your funds, migrate to a new wallet with a seed phrase. You will be able to import your existing account."}),pt("button",{className:"connect-button",onClick:async()=>{const e=await i.createRandom();l(e.mnemonic.phrase),o(2)},children:"Start Migration"}),pt("button",{className:"secondary-button",onClick:r,children:"Cancel"})]}),2===s&&c&&pt(vt,{mnemonic:c,onConfirm:async()=>{u(!0),await a.createWallet("temp-migrate-password",!0,c),await a.importAccountFromPrivateKey(e.privateKey,e.name||"Migrated Account"),u(!1),o(3)}}),3===s&&ft(ht,{children:[pt("h2",{children:"Migration Complete!"}),pt("p",{children:"Your wallet has been migrated. Please keep your new seed phrase safe. You can now use your wallet securely."}),pt("button",{className:"connect-button",onClick:t,children:"Finish"})]}),d&&pt("div",{className:"loading-spinner",style:{marginTop:16},children:"Migrating..."})]})})},At=()=>{const[e,t]=n.useState(!1),[r,a]=n.useState(null),[s,c]=n.useState(null),[l,d]=n.useState([]),[u,m]=n.useState(!0),[h,p]=n.useState(""),[f,y]=n.useState(!1),[g,v]=n.useState(!0),[b,w]=n.useState(!1),[N,k]=n.useState(null),[S,C]=n.useState(!1),[x,P]=n.useState(!1),[E,$]=n.useState(!1),[A,_]=n.useState(!1),[I,L]=n.useState(!1),[T,R]=n.useState(null),[F,M]=n.useState(!1),[O,W]=n.useState(null),z=new Pt;n.useEffect((()=>{(async()=>{try{const e=await o.hasWallet();if(w(e),!e)return v(!0),void m(!1);const n=await o.getState();if(t(n.isUnlocked),n.isUnlocked&&n.selectedAccount&&n.selectedNetwork){v(!1),a(n.selectedAccount),c(n.selectedNetwork),d(n.networks);const e=await z.initializeNetworkState(n.selectedNetwork.chainId);k(e.mevProtection);const t=await o.getState();t.accounts&&t.accounts.length>0&&!(await o.hasWallet())&&(_(!0),$(!0))}}catch(e){p("Failed to initialize wallet")}finally{m(!1)}})()}),[]);return u?pt("div",{className:"popup-container",children:ft("div",{className:"loading-container",children:[pt("div",{className:"loading-spinner"}),pt("p",{children:"Loading wallet..."})]})}):ft("div",{className:"popup-container",children:[h&&pt("div",{className:"error-message",children:h}),g?pt(gt,{onGetStarted:()=>{v(!1)},onRestore:()=>C(!0)}):S?pt(Et,{onRestoreWallet:async(e,n)=>{P(!0),p("");try{await o.createWallet(e,!0,n);const r=await o.getState();if(t(r.isUnlocked),w(!0),r.selectedAccount&&r.selectedNetwork){a(r.selectedAccount),c(r.selectedNetwork),d(r.networks);const e=await z.initializeNetworkState(r.selectedNetwork.chainId);k(e.mevProtection)}C(!1),v(!1)}catch(r){p("Failed to restore wallet. Please check your seed phrase and try again.")}finally{P(!1)}},isRestoring:x,setIsRestoring:P,error:h}):b?e?ft(ht,{children:[pt(St,{selectedAccount:r,selectedNetwork:s,networks:l,mevProtection:N,error:h,onSwitchNetwork:async e=>{try{p(""),await o.setNetwork(e);const t=await o.getState();c(t.selectedNetwork);const n=await z.initializeNetworkState(e);k(n.mevProtection)}catch(t){p("Failed to switch network. Please try again.")}},isLegacy:A,onMigrateLegacy:async()=>{const e=(await i.createRandom()).mnemonic.phrase;R(e),L(!0)},onExportLegacy:()=>{$(!1)}}),E&&pt("div",{className:"modal-overlay",children:ft("div",{className:"modal-content",children:[pt("h2",{children:"Legacy Wallet Detected"}),pt("p",{children:"Your wallet was created before seed phrase support. If you remove or reset this extension, you will lose access to your funds. Please migrate to a seed phrase wallet or export your private key."}),pt("button",{className:"connect-button",onClick:()=>{},children:"Migrate to Seed Phrase Wallet"}),pt("button",{className:"secondary-button",onClick:()=>{},children:"Export Private Key"}),pt("button",{className:"secondary-button",onClick:()=>$(!1),children:"Remind Me Later"})]})}),I&&T&&pt(vt,{mnemonic:T,onConfirm:async()=>{L(!1);const e=(await o.getState()).accounts[0];e&&e.privateKey?(await o.createWallet("temp-migrate-password",!0,T),await o.importAccountFromPrivateKey(e.privateKey,e.name||"Migrated Account"),alert("Migration complete! Please keep your new seed phrase safe."),_(!1),$(!1),R(null)):alert("Legacy account or private key not found.")}}),F&&O&&pt($t,{legacyAccount:O,walletService:o,onComplete:()=>{M(!1),_(!1),$(!1),W(null)},onCancel:()=>M(!1)})]}):pt("div",{children:"Unlock your wallet"}):pt(bt,{onCreateWallet:async(e,n)=>{y(!0),p("");try{await o.createWallet(e,!1,n);const r=await o.getState();if(t(r.isUnlocked),w(!0),r.selectedAccount&&r.selectedNetwork){a(r.selectedAccount),c(r.selectedNetwork),d(r.networks);const e=await z.initializeNetworkState(r.selectedNetwork.chainId);k(e.mevProtection)}v(!1)}catch(r){p("Failed to create wallet. Please try again.")}finally{y(!1)}},isCreating:f,setIsCreating:y,error:h})]})},_t=document.getElementById("root");if(!_t)throw new Error("Failed to find the root element");st(_t).render(pt(s.StrictMode,{children:pt(At,{})}));
