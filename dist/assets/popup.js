import{j as e,c as s}from"./client.js";import{r as a,R as t}from"./react-vendor.js";import{w as n}from"./wallet.js";import"./ethers-vendor.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const l=({onGetStarted:s})=>e.jsxs("div",{className:"welcome-screen",children:[e.jsxs("div",{className:"welcome-content",children:[e.jsxs("div",{className:"welcome-hero",children:[e.jsx("div",{className:"wallet-icon large",role:"img","aria-label":"Wallet icon"}),e.jsxs("h1",{children:["Welcome to ",e.jsx("span",{className:"brand-name",children:"FreoBus"})]}),e.jsx("p",{className:"subtitle",children:"Your Web3 MasterKey"})]}),e.jsxs("div",{className:"features-list",children:[e.jsxs("div",{className:"feature-item",children:[e.jsx("span",{className:"feature-icon",children:"ðŸ›¡ï¸"}),e.jsxs("div",{className:"feature-text",children:[e.jsx("h3",{children:"Secured"}),e.jsx("p",{children:"Military-grade encryption for your digital assets"})]})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("span",{className:"feature-icon",children:"âš¡"}),e.jsxs("div",{className:"feature-text",children:[e.jsx("h3",{children:"Seamless"}),e.jsx("p",{children:"Effortless transactions and dApp interactions"})]})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("span",{className:"feature-icon",children:"ðŸ’Ž"}),e.jsxs("div",{className:"feature-text",children:[e.jsx("h3",{children:"Rich"}),e.jsx("p",{children:"Premium features for the modern Web3 explorer"})]})]})]})]}),e.jsxs("div",{className:"welcome-footer",children:[e.jsx("button",{type:"button",className:"connect-button",onClick:s,"aria-label":"Get started with FreoBus Wallet",children:"Get Started"}),e.jsxs("p",{className:"terms-notice",children:["By continuing, you agree to our ",e.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})]})]})]}),c=({isCreating:s,error:t,onCreateWallet:n})=>{const[l,c]=a.useState(""),[i,r]=a.useState(""),[o,d]=a.useState(null);return e.jsx("div",{className:"popup-content",children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),d(null),l&&i?l.length<8?d("Password must be at least 8 characters long"):l===i?await n(l):d("Passwords do not match"):d("Please enter both password fields")},children:[(t||o)&&e.jsx("div",{className:"error-message",role:"alert",children:t||o}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Create Password"}),e.jsx("input",{type:"password",id:"password",value:l,onChange:e=>c(e.target.value),placeholder:"Create a strong password (min. 8 characters)",disabled:s,required:!0,minLength:8}),e.jsx("small",{className:"input-help",children:"This password will be used to protect your wallet"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx("input",{type:"password",id:"confirmPassword",value:i,onChange:e=>r(e.target.value),placeholder:"Enter the same password again",disabled:s,required:!0,minLength:8})]}),e.jsx("button",{className:"connect-button "+(s?"loading":""),type:"submit",disabled:s,"aria-busy":s,children:s?"Creating Wallet...":"Create New Wallet"})]})})},i=({selectedAccount:s,selectedNetwork:t,networks:n,error:l,onSwitchNetwork:c})=>{const[i,r]=a.useState("tokens"),[o,d]=a.useState(!1),[m,h]=a.useState(!1),u=e=>parseFloat(e||"0").toFixed(4);return e.jsxs("div",{className:"wallet-content",children:[l&&e.jsx("div",{className:"error-message",children:l}),e.jsxs("div",{className:"wallet-header",children:[e.jsxs("div",{className:"header-top",children:[e.jsxs("div",{className:"network-selector",onClick:()=>d(!o),children:[e.jsx("div",{className:"network-indicator"}),e.jsx("span",{children:(null==t?void 0:t.name)||"Select Network"}),e.jsx("span",{className:"chevron-down",children:"â–¼"}),o&&e.jsx("div",{className:"network-dropdown",children:n.map((s=>e.jsxs("div",{className:"network-option "+(s.chainId===(null==t?void 0:t.chainId)?"active":""),onClick:()=>c(s.chainId),children:[e.jsx("div",{className:"network-option-indicator"}),e.jsx("span",{children:s.name})]},s.chainId)))})]}),e.jsxs("button",{className:"menu-button",onClick:()=>h(!m),children:["â‹®",m&&e.jsxs("div",{className:"menu-dropdown",children:[e.jsxs("button",{className:"menu-item",children:[e.jsx("span",{className:"menu-icon",children:"ðŸ””"}),"Notifications"]}),e.jsxs("button",{className:"menu-item",children:[e.jsx("span",{className:"menu-icon",children:"ðŸ‘¤"}),"Account details"]}),e.jsxs("button",{className:"menu-item",children:[e.jsx("span",{className:"menu-icon",children:"ðŸ”"}),"View on explorer"]}),e.jsxs("button",{className:"menu-item",children:[e.jsx("span",{className:"menu-icon",children:"âš™ï¸"}),"Settings"]}),e.jsxs("button",{className:"menu-item",children:[e.jsx("span",{className:"menu-icon",children:"ðŸ”’"}),"Lock FreoWallet"]})]})]})]}),e.jsxs("div",{className:"account-info",children:[e.jsx("span",{className:"account-name",children:null==s?void 0:s.name}),e.jsx("span",{className:"account-address",children:(null==s?void 0:s.address)?(x=s.address,`${x.slice(0,6)}...${x.slice(-4)}`):""})]})]}),e.jsxs("div",{className:"balance-display",children:[e.jsx("h2",{className:"balance-amount",children:(null==s?void 0:s.balances[(null==t?void 0:t.chainId)||""])?`${u(s.balances[(null==t?void 0:t.chainId)||""])} ${null==t?void 0:t.currencySymbol}`:"0.0000 ETH"}),e.jsx("p",{className:"balance-fiat",children:"$0.00 USD"})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsxs("button",{className:"action-button",children:[e.jsx("span",{className:"action-icon",children:"â†“"}),e.jsx("span",{children:"Buy"})]}),e.jsxs("button",{className:"action-button",children:[e.jsx("span",{className:"action-icon",children:"â†‘"}),e.jsx("span",{children:"Send"})]}),e.jsxs("button",{className:"action-button",children:[e.jsx("span",{className:"action-icon",children:"â†”"}),e.jsx("span",{children:"Swap"})]}),e.jsxs("button",{className:"action-button",children:[e.jsx("span",{className:"action-icon",children:"â‹®"}),e.jsx("span",{children:"More"})]})]}),e.jsxs("div",{className:"tabs",children:[e.jsx("button",{className:"tab "+("tokens"===i?"active":""),onClick:()=>r("tokens"),children:"Tokens"}),e.jsx("button",{className:"tab "+("nfts"===i?"active":""),onClick:()=>r("nfts"),children:"NFTs"}),e.jsx("button",{className:"tab "+("activity"===i?"active":""),onClick:()=>r("activity"),children:"Activity"})]}),e.jsxs("div",{className:"tab-content",children:["tokens"===i&&e.jsxs("div",{className:"token-list",children:[e.jsxs("div",{className:"token-item main-token",children:[e.jsx("div",{className:"token-icon eth"}),e.jsxs("div",{className:"token-info",children:[e.jsx("span",{className:"token-name",children:"Ethereum"}),e.jsxs("span",{className:"token-balance",children:[(null==s?void 0:s.balances[(null==t?void 0:t.chainId)||""])?u(s.balances[(null==t?void 0:t.chainId)||""]):"0.0000"," ETH"]})]}),e.jsx("div",{className:"token-value",children:"$0.00 USD"})]}),e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:"ðŸ”"}),e.jsx("h3",{children:"No tokens found"}),e.jsx("p",{children:"Get started by adding some tokens to your wallet"}),e.jsx("button",{className:"secondary-button",children:"Import Tokens"})]})]}),"nfts"===i&&e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:"ðŸ–¼ï¸"}),e.jsx("h3",{children:"No NFTs found"}),e.jsx("p",{children:"NFTs you receive will appear here"})]}),"activity"===i&&e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:"ðŸ“"}),e.jsx("h3",{children:"No activity yet"}),e.jsx("p",{children:"Your transaction history will appear here"})]})]})]});var x},r=()=>{const[s,t]=a.useState(!1),[r,o]=a.useState(null),[d,m]=a.useState(null),[h,u]=a.useState([]),[x,j]=a.useState(!0),[N,p]=a.useState(""),[v,w]=a.useState(!1),[f,b]=a.useState(!0),[y,k]=a.useState(!1);a.useEffect((()=>{(async()=>{try{const e=await n.hasWallet();if(k(e),!e)return b(!0),void j(!1);const s=await n.getState();t(s.isUnlocked),s.isUnlocked&&s.selectedAccount&&s.selectedNetwork&&(b(!1),o(s.selectedAccount),m(s.selectedNetwork),u(s.networks))}catch(e){p("Failed to initialize wallet")}finally{j(!1)}})()}),[]);return x?e.jsx("div",{className:"popup-container",children:e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading wallet..."})]})}):e.jsxs("div",{className:"popup-container",children:[N&&e.jsx("div",{className:"error-message",children:N}),f?e.jsx(l,{onGetStarted:()=>{b(!1)}}):y?s?e.jsx(i,{selectedAccount:r,selectedNetwork:d,networks:h,error:N,onSwitchNetwork:async e=>{try{p(""),await n.setNetwork(e);const s=await n.getState();m(s.selectedNetwork)}catch(s){p("Failed to switch network. Please try again.")}}}):e.jsx("div",{children:"Unlock your wallet"}):e.jsx(c,{onCreateWallet:async e=>{w(!0),p("");try{await n.createWallet(e);const s=await n.getState();t(s.isUnlocked),k(!0),s.selectedAccount&&s.selectedNetwork&&(o(s.selectedAccount),m(s.selectedNetwork),u(s.networks)),b(!1)}catch(s){p("Failed to create wallet. Please try again.")}finally{w(!1)}},isCreating:v,setIsCreating:w,error:N})]})},o=document.getElementById("root");if(!o)throw new Error("Failed to find the root element");s(o).render(e.jsx(t.StrictMode,{children:e.jsx(r,{})}));
